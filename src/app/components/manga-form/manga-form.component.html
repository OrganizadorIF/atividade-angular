<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"/>
<div class="custom-card">
    <h2 class="custom-card-header">Manga Form</h2>
    <div class="custom-card-body">
        <div style="flex-basis: 75%; margin-bottom: 20px; margin-top: 10px;">
            <form #mangaForm="ngForm" (ngSubmit)="mangaForm.form.valid && onSubmit()" style="text-align: center;">
                <div style="flex-basis: 50%;">
                    <div class="form-group">
                        <label for="title">Title: *</label>
                        <input id="title" type="text" name="title" class="form-control finput" [(ngModel)]="title" #titleInput="ngModel" required>
                        <div *ngIf="titleInput.invalid && (titleInput.dirty || titleInput.touched)" class="error-message">Título é obrigatório.</div>
                    </div>
                    <div class="form-group">
                        <label for="author">Author: *</label>
                        <input id="author" type="text" name="author" class="form-control finput" [(ngModel)]="author" #authorInput="ngModel" required>
                        <div *ngIf="authorInput.invalid && (authorInput.dirty || authorInput.touched)" class="error-message">Autor(a) é obrigatório.</div>
                    </div>
                    <div class="form-group">
                        <label for="cover">Cover: *</label>
                        <input id="cover" type="text" name="cover" class="form-control finput" [(ngModel)]="cover" #coverInput="ngModel" required>
                        <div *ngIf="coverInput.invalid && (coverInput.dirty || coverInput.touched)" class="error-message">Cover é obrigatório.</div>
                    </div>
                    <div>
                        <div class="form-group">
                            <label for="created_at">First Volume: *</label>
                            <input id="created_at" type="date" name="created_at" class="form-control finput" [(ngModel)]="created_at" #created_atInput="ngModel" required>
                            <div *ngIf="created_atInput.invalid && (created_atInput.dirty || created_atInput.touched)" class="error-message">Created at é obrigatório.</div>
                        </div>
                        <div class="form-group">
                            <label for="last_release">Last Volume: *</label>
                            <input id="last_release" type="date" name="last_release" class="form-control finput" [(ngModel)]="last_release" #last_releaseInput="ngModel" required>
                            <div *ngIf="last_releaseInput.invalid && (last_releaseInput.dirty || last_releaseInput.touched)" class="error-message">Released at é obrigatório.</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="status">Status: *</label>
                        <div *ngFor="let option of options">
                            <input id="status" type="radio" name="status" [id]="option.value" [name]="'options'" [value]="option.value" [(ngModel)]="selectedOption"/>
                            <label [for]="option.value">{{ option.label }}</label>
                        </div>
                        <!-- <input id="status" type="date" name="status" class="form-control finput" [(ngModel)]="status" #statusInput="ngModel" required>
                        <div *ngIf="statusInput.invalid && (statusInput.dirty || statusInput.touched)" class="error-message">Released at é obrigatório.</div> -->
                    </div>
                </div>
                <div style="flex-basis: 50%; align-self: center;">
                    <div class="form-group">
                        <label for="summary">Summary: *</label>
                        <textarea id="summary" type="text" name="summary" class="form-control finput" [(ngModel)]="summary" #summaryInput="ngModel" required></textarea>
                        <div *ngIf="summaryInput.invalid && (summaryInput.dirty || summaryInput.touched)" class="error-message">Description at é obrigatório.</div>
                    </div>
                    <div class="form-group">
                        <label for="trailer">Promotional Video:</label>
                        <input id="trailer" type="text" name="trailer" class="form-control finput" [(ngModel)]="trailer" #trailerInput="ngModel">
                        <div *ngIf="trailerInput.invalid && (trailerInput.dirty || trailerInput.touched)" class="error-message">Description at é obrigatório.</div>
                    </div>
                    <div style="text-align: center; margin-top: 25px;">
                        <button type="submit" class="styled-button">
                            <span class="material-symbols-outlined" style="margin-right: 5px;">save</span>
                            <span>Adicionar</span>
                        </button>
                    </div>
                </div>
            </form>
        </div>
        <div style="flex-basis: 25%;">
            <div class="preview-card">
                <img src="{{cover}}" class="manga-image" *ngIf="cover">
                <div class="manga-details">
                    <h3 class="manga-title">{{title}}</h3>
                    <h4 class="manga-subtitle">{{author}}</h4>
                    <h4 class="manga-subtitle" *ngIf="created_atInput.touched && last_releaseInput.touched">
                        {{created_at | date: 'YYYY'}} - {{last_release | date: 'YYYY'}}
                    </h4>
                </div>
            </div>
        </div>
    </div>
</div>